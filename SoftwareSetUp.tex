% Sample file on how to use subfiles.
\documentclass[ExampleMasters.tex]{subfiles}

\begin{document}
\clearpage


\chapter{Software Setup}
\label{chap:software_setup}
\section{Matlab/Simulink environment}
\label{sec:matlab}
\subsection{dSpace RTI-Blockset}
The dSpace RTI-Blockset (Real-time interface) is a plug-in for MATLAB/Simulink that allows you to connect a simulink-model to the different inputs and outputs of the MABII. There are RTI-blocks for CAN, Ethernet, LIN, FPGA and the analog and digital outputs of the MABII.
In this project only the RTI CAN MultiMessage Blockset was used. These blocks establish an interface between the physical CAN-Buses of the MABII and the simulink-model running on the MABII. There are four different blocks in this blockset: 

In the "GeneralSetup" block the paths of the model root and the destination folder for generated files are set. 

In the "ControllerSetup" block first the name of the controller has to be set, then the physical CAN-Bus, that should be used, is set by choosing a module number and a controller number. How the module- and controller numbers have to be set for the different CAN-buses of the MABII is shown in \ref{tab:CAN-layout}.
\begin{table}[h]
	\centering
	\caption{CAN-layout MABII}
	\label{tab:CAN-layout}
	\begin{tabular}{c|c|c|}
		CAN   & Module number & Controller number  \\ \hline
		CAN1     &       1 & 1           \\
		CAN2   &      1 & 2      \\
		CAN3 &      2 & 1         \\
		CAN4& 2 & 2  \\
		
	\end{tabular} \\
\end{table}

After setting the module- and controller number the identifier format has to be set to either standard or extended format, the transceiver type must be chosen between ISO11898-2 and ISO11898-6. ISO11898-2 is used for a high-speed medium access unit and ISO11989-6 for the selective wake-up functionality of a high-speed medium access unit. If needed, a termination resistance of 120 Ohms can be set in the block as well. As a last step the Baud rate of the CAN-bus has to be defined.

In the "MainSetup" block a dbc-file is connected to one of the controller blocks, that were created before. A "ControllerSetup" block can only be connected to one "MainSetup" block at a time. When the dbc-file is loaded in the "MainSetup" block, the different messages and signals of the dbc-file can be chosen as inputs and/or outputs to the simulink-model.
\subsection{Volvo Transportation Model}
\subsection{Connecting with high-level steering model}


\section{ControlDesk monitoring environment}
\label{sec:control_desk}
\subsection{Maneuver control}


\subsection{Monitoring and logging}
\begin{itemize}
	\item data-format
	\item frequency
	\item synchronizing over different CANs	
\end{itemize}


\section{Arduino IDE and applications}
\label{sec:arduino_applications}



\end{document}
